<script src="jquery-3.5.1.min.js"></script>
<script src="echarts.min.js"></script>

<script>
  let url = 'http://182.254.228.53:5000'
</script>
<script>
  $.ajax({
    url: url+'/fitness',
    type: 'GET',
    success: function(data, status){
      data = jQuery.parseJSON(data)
      weight = data['weights']
      date = data['date']

      // 基于准备好的dom，初始化echarts实例
      var myChart = echarts.init(document.getElementById('main'));

      // 指定图表的配置项和数据
      var option = {
        xAxis: {
            type: 'category',
            data: date
        },
        yAxis: {
            type: 'value',
            position:'left',
            name: 'weight',
            min: '145'
        },
        series: [{
            data: weight,
            type: 'line'
        }]
      };

      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);
        }
      })
    $.ajax({
      url: url+'/is_fitness_input/',
      type: 'GET',
      success: function(data, status){
        if(data == 1)
          document.getElementById("temp_div").style.visibility="hidden";
      
      }
    })
</script>

<div id="main" style="width: 600px;height:400px;"></div>

<div id='temp_div'>
  <form action="http://182.254.228.53:5000/fitness" method="POST">
  <label for="input_weight">体重</label>
    <input type="text" name="input_weight">
    <input type='submit'>
  </form>
</div>